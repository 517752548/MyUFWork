-- Generated by CSharp.lua Compiler
local System = System
local ET = ET
local ETEventType = ET.EventType
System.namespace("ET", function (namespace)
  namespace.class("SceneFactory", function (namespace)
    local CreateZoneScene
    CreateZoneScene = function (id, zone, name)
      return System.async(function (async, id, zone, name)
        local zoneScene = ET.EntitySceneFactory.CreateScene(id, zone, ET.SceneType.Zone, name, ET.Game.getScene())

        zoneScene:AddComponent(ET.NetOuterComponent)
        zoneScene:AddComponent(ET.UnitComponent)

        -- UI层的初始化
        local default = ETEventType.AfterCreateZoneScene()
        default.ZoneScene = zoneScene
        async:Await(ET.Game.getEventSystem():Publish(default, ETEventType.AfterCreateZoneScene))

        return zoneScene
      end, nil, id, zone, name)
    end
    return {
      CreateZoneScene = CreateZoneScene
    }
  end)
end)
