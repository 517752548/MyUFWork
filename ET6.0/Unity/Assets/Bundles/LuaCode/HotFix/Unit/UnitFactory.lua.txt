-- Generated by CSharp.lua Compiler
local System = System
local ET = ET
local ETEventType = ET.EventType
local ET
System.import(function (out)
  ET = out.ET
end)
System.namespace("ET", function (namespace)
  namespace.class("UnitFactory", function (namespace)
    local Create
    Create = function (domain, id)
      local unit = ET.EntityFactory.CreateWithId(domain, id, ET.Unit)

      unit:AddComponent(ET.TurnComponent)

      local default = ETEventType.AfterUnitCreate()
      default.Unit = unit
      ET.Game.getEventSystem():Publish(default, ETEventType.AfterUnitCreate)

      local unitComponent = ET.Game.getScene():Get(0):GetComponent(ET.UnitComponent)
      ET.UnitComponentSystem.Add(unitComponent, unit)
      return unit
    end
    return {
      Create = Create
    }
  end)
end)
