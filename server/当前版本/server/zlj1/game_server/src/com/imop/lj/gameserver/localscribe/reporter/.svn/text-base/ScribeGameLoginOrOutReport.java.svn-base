package com.imop.lj.gameserver.localscribe.reporter;

import net.sf.json.JSONObject;

import com.imop.lj.gameserver.common.Globals;
import com.imop.platform.collector.reporter.data.AbstractGameDataReport;

public class ScribeGameLoginOrOutReport extends AbstractGameDataReport {
	private String charName;
	private String deviceType;
	private int charLevel;
	private String channelCode;
	private String charId;
	private String deviceGuid;
	private String logId;
	private String loginType;
	private String deviceUserAgent;
	private String promotionCode;
	private String channelUserid;
	private String accountId;
	private long totalLoginTime;
	private long lastLoginTime;
	private String logClientIp;
	private int lineNumber;
	private String functionName;
	private String deviceConnentType;
	private int charVip;
	private String accountName;
	private String loginAction;
	private String deviceVersion;
	private String device;
	private String deviceImei;
	private String deviceMac;
	private int deviceJailbroken;

	public ScribeGameLoginOrOutReport(String charName, String deviceType,
			int charLevel, String channelCode, String charId,
			String deviceGuid, String logId, String loginType, String deviceUserAgent,
			String promotionCode, String channelUserid, String accountId,
			long totalLoginTime, long lastLoginTime, String logClientIp,
			int lineNumber, String functionName, String deviceConnentType,
			int charVip, String accountName, String loginAction,
			String deviceVersion, String device, String deviceImei,
			String deviceMac, int deviceJailbroken) {
		super("");
		this.charName = charName;
		this.deviceType = deviceType;
		this.charLevel = charLevel;
		this.channelCode = channelCode;
		this.charId = charId;
		this.deviceGuid = deviceGuid;
		this.logId = logId;
		this.loginType = loginType;
		this.deviceUserAgent = deviceUserAgent;
		this.promotionCode = promotionCode;
		this.channelUserid = channelUserid;
		this.accountId = accountId;
		this.totalLoginTime = totalLoginTime;
		this.lastLoginTime = lastLoginTime;
		this.logClientIp = logClientIp;
		this.lineNumber = lineNumber;
		this.functionName = functionName;
		this.deviceConnentType = deviceConnentType;
		this.charVip = charVip;
		this.accountName = accountName;
		this.loginAction = loginAction;
		this.deviceVersion = deviceVersion;
		this.device = device;
		this.deviceImei = deviceImei;
		this.deviceMac = deviceMac;
		this.deviceJailbroken = deviceJailbroken;
		this.isStoreToLocalLog = true;
	}

	@Override
	public String getCategory() {
		return "data.game.login";
	}

	@Override
	public String getVersion() {
		return "1.4:1.6.2.2";
	}

	public String getCharName() {
		return charName;
	}

	public void setCharName(String charName) {
		this.charName = charName;
	}

	public String getDeviceType() {
		return deviceType;
	}

	public void setDeviceType(String deviceType) {
		this.deviceType = deviceType;
	}

	public int getCharLevel() {
		return charLevel;
	}

	public void setCharLevel(int charLevel) {
		this.charLevel = charLevel;
	}

	public String getChannelCode() {
		return channelCode;
	}

	public void setChannelCode(String channelCode) {
		this.channelCode = channelCode;
	}

	public String getCharId() {
		return charId;
	}

	public void setCharId(String charId) {
		this.charId = charId;
	}

	public String getDeviceGuid() {
		return deviceGuid;
	}

	public void setDeviceGuid(String deviceGuid) {
		this.deviceGuid = deviceGuid;
	}

	public String getLogId() {
		return logId;
	}

	public void setLogId(String logId) {
		this.logId = logId;
	}

	public String getDeviceUserAgent() {
		return deviceUserAgent;
	}

	public void setDeviceUserAgent(String deviceUserAgent) {
		this.deviceUserAgent = deviceUserAgent;
	}

	public String getPromotionCode() {
		return promotionCode;
	}

	public void setPromotionCode(String promotionCode) {
		this.promotionCode = promotionCode;
	}

	public String getChannelUserid() {
		return channelUserid;
	}

	public void setChannelUserid(String channelUserid) {
		this.channelUserid = channelUserid;
	}

	public String getAccountId() {
		return accountId;
	}

	public void setAccountId(String accountId) {
		this.accountId = accountId;
	}

	public long getTotalLoginTime() {
		return totalLoginTime;
	}

	public void setTotalLoginTime(long totalLoginTime) {
		this.totalLoginTime = totalLoginTime;
	}

	public long getLastLoginTime() {
		return lastLoginTime;
	}

	public void setLastLoginTime(long lastLoginTime) {
		this.lastLoginTime = lastLoginTime;
	}

	public String getLogClientIp() {
		return logClientIp;
	}

	public void setLogClientIp(String logClientIp) {
		this.logClientIp = logClientIp;
	}

	public int getLineNumber() {
		return lineNumber;
	}

	public void setLineNumber(int lineNumber) {
		this.lineNumber = lineNumber;
	}

	public String getFunctionName() {
		return functionName;
	}

	public void setFunctionName(String functionName) {
		this.functionName = functionName;
	}

	public String getDeviceConnentType() {
		return deviceConnentType;
	}

	public void setDeviceConnentType(String deviceConnentType) {
		this.deviceConnentType = deviceConnentType;
	}

	public int getCharVip() {
		return charVip;
	}

	public void setCharVip(int charVip) {
		this.charVip = charVip;
	}

	public String getAccountName() {
		return accountName;
	}

	public void setAccountName(String accountName) {
		this.accountName = accountName;
	}

	public String getLoginAction() {
		return loginAction;
	}

	public void setLoginAction(String loginAction) {
		this.loginAction = loginAction;
	}

	public String getDeviceVersion() {
		return deviceVersion;
	}

	public void setDeviceVersion(String deviceVersion) {
		this.deviceVersion = deviceVersion;
	}

	public String getDevice() {
		return device;
	}

	public void setDevice(String device) {
		this.device = device;
	}

	public String getDeviceImei() {
		return deviceImei;
	}

	public void setDeviceImei(String deviceImei) {
		this.deviceImei = deviceImei;
	}

	public String getDeviceMac() {
		return deviceMac;
	}

	public void setDeviceMac(String deviceMac) {
		this.deviceMac = deviceMac;
	}

	public int getDeviceJailbroken() {
		return deviceJailbroken;
	}

	public void setDeviceJailbroken(int deviceJailbroken) {
		this.deviceJailbroken = deviceJailbroken;
	}

	public String getLoginType() {
		return loginType;
	}

	public void setLoginType(String loginType) {
		this.loginType = loginType;
	}
	
	@Override
	public String toString(){
		JSONObject obj = new JSONObject();
		obj.put("category", this.getCategory());
		obj.put("char_name", this.charName);
		obj.put("device_type", this.deviceType);
		obj.put("char_level", this.charLevel);
		obj.put("region_id", this.regionId);
		obj.put("channel_code", this.channelCode);
		obj.put("server_name", this.serverName);
		obj.put("server_domain", this.serverDomain);
		obj.put("platform_id", this.platformId);
		obj.put("log_serial_no", this.logSerialNo);
		obj.put("char_id", this.charId);
		obj.put("game_id", this.gameId);
		obj.put("log_hostname", this.logHostName);
		obj.put("log_localtime", this.logLocalTime);
		obj.put("device_guid", this.deviceGuid);
		obj.put("log_note", this.logNote);
		obj.put("log_id", this.logId);
		obj.put("login_type", this.loginType);
		obj.put("server_id", this.serverId);
		obj.put("device_user_agent", this.deviceUserAgent);
		obj.put("promotion_code", this.promotionCode);
		obj.put("channel_userid", this.channelUserid);
		obj.put("account_id", this.accountId);
		obj.put("total_login_time", this.totalLoginTime);
		obj.put("last_login_time", this.lastLoginTime);
		obj.put("log_client_ip", this.logClientIp);
		obj.put("log_utctime", this.logUTCTime);
		
		JSONObject properties = new JSONObject();
		properties.put("lineNumber", Globals.getOnlinePlayerService().getOnlinePlayerCount());
		properties.put("functionName", this.functionName);
		
		obj.put("properties", properties.toString());
		obj.put("device_connect_type", this.deviceConnentType);
		obj.put("char_vip", this.charVip);
		obj.put("account_name", this.accountName);
		obj.put("login_action", this.loginAction);
		obj.put("device_version", this.deviceVersion);
		obj.put("log_timestamp", this.logTimestamp);
		obj.put("device", this.device);
		obj.put("log_server_ip", this.logServerIp);
		obj.put("log_type", this.logType);
		obj.put("device_imei", this.deviceImei);
		obj.put("device_mac", this.deviceMac);
		obj.put("device_jailbroken", this.deviceJailbroken);
		return obj.toString();
	}

}
